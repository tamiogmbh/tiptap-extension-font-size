{"version":3,"file":"tiptap-extension-font-size.esm.js","sources":["../src/font-size.ts"],"sourcesContent":["import '@tiptap/extension-text-style'\n\nimport { Extension } from '@tiptap/core'\n\nexport type FontSizeOptions = {\n  types: string[],\n}\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    fontSize: {\n      /**\n       * Set the text font-size\n       */\n      setFontSize: (fontSize: string) => ReturnType,\n      /**\n       * Unset the text font-size\n       */\n      unsetFontSize: () => ReturnType,\n    }\n  }\n}\n\nexport const FontSize = Extension.create<FontSizeOptions>({\n  name: 'font-size',\n\n  addOptions() {\n    return {\n      types: ['textStyle'],\n    }\n  },\n\n  addGlobalAttributes() {\n    return [\n      {\n        types: this.options.types,\n        attributes: {\n          fontSize: {\n            default: null,\n            parseHTML: element => element.style.fontSize?.replace(/['\"]+/g, ''),\n            renderHTML: attributes => {\n              if (!attributes.fontSize) {\n                return {}\n              }\n\n              return {\n                style: `font-size: ${attributes.fontSize}px`,\n              }\n            },\n          },\n        },\n      },\n    ]\n  },\n\n  addCommands() {\n    return {\n      setFontSize: fontSize => ({ chain }) => {\n        return chain()\n          .setMark('textStyle', { fontSize })\n          .run()\n      },\n      unsetFontSize: () => ({ chain }) => {\n        return chain()\n          .setMark('textStyle', { fontSize: null })\n          .removeEmptyTextStyle()\n          .run()\n      },\n    }\n  },\n})\n"],"names":[],"mappings":";;;AAuBa,MAAA,QAAA,GAAW,UAAU,MAAwB,CAAA;AAAA,EACxD,IAAM,EAAA,WAAA;AAAA,EAEN,UAAa,GAAA;AACX,IAAO,OAAA;AAAA,MACL,KAAA,EAAO,CAAC,WAAW,CAAA;AAAA,KACrB,CAAA;AAAA,GACF;AAAA,EAEA,mBAAsB,GAAA;AACpB,IAAO,OAAA;AAAA,MACL;AAAA,QACE,KAAA,EAAO,KAAK,OAAQ,CAAA,KAAA;AAAA,QACpB,UAAY,EAAA;AAAA,UACV,QAAU,EAAA;AAAA,YACR,OAAS,EAAA,IAAA;AAAA,YACT,WAAW,CAAQ,OAAA,KAAA;AAvC/B,cAAA,IAAA,EAAA,CAAA;AAuCkC,cAAA,OAAA,CAAA,EAAA,GAAA,OAAA,CAAQ,KAAM,CAAA,QAAA,KAAd,IAAwB,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,OAAA,CAAQ,QAAU,EAAA,EAAA,CAAA,CAAA;AAAA,aAAA;AAAA,YAChE,YAAY,CAAc,UAAA,KAAA;AACxB,cAAI,IAAA,CAAC,WAAW,QAAU,EAAA;AACxB,gBAAA,OAAO,EAAC,CAAA;AAAA,eACV;AAEA,cAAO,OAAA;AAAA,gBACL,KAAA,EAAO,cAAc,UAAW,CAAA,QAAA,CAAA,EAAA,CAAA;AAAA,eAClC,CAAA;AAAA,aACF;AAAA,WACF;AAAA,SACF;AAAA,OACF;AAAA,KACF,CAAA;AAAA,GACF;AAAA,EAEA,WAAc,GAAA;AACZ,IAAO,OAAA;AAAA,MACL,WAAa,EAAA,CAAA,QAAA,KAAY,CAAC,EAAE,OAAY,KAAA;AACtC,QAAO,OAAA,KAAA,GACJ,OAAQ,CAAA,WAAA,EAAa,EAAE,QAAS,EAAC,EACjC,GAAI,EAAA,CAAA;AAAA,OACT;AAAA,MACA,aAAe,EAAA,MAAM,CAAC,EAAE,OAAY,KAAA;AAClC,QAAO,OAAA,KAAA,EACJ,CAAA,OAAA,CAAQ,WAAa,EAAA,EAAE,QAAU,EAAA,IAAA,EAAM,CAAA,CACvC,oBAAqB,EAAA,CACrB,GAAI,EAAA,CAAA;AAAA,OACT;AAAA,KACF,CAAA;AAAA,GACF;AACF,CAAC;;;;"}