{"version":3,"file":"tiptap-extension-font-size.umd.cjs","sources":["../src/font-size.ts"],"sourcesContent":["import '@tiptap/extension-text-style'\n\nimport { Extension } from '@tiptap/core'\n\nexport type FontSizeOptions = {\n  types: string[],\n}\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    fontSize: {\n      /**\n       * Set the text font-size\n       */\n      setFontSize: (fontSize: string) => ReturnType,\n      /**\n       * Unset the text font-size\n       */\n      unsetFontSize: () => ReturnType,\n    }\n  }\n}\n\nexport const FontSize = Extension.create<FontSizeOptions>({\n  name: 'font-size',\n\n  addOptions() {\n    return {\n      types: ['textStyle'],\n    }\n  },\n\n  addGlobalAttributes() {\n    return [\n      {\n        types: this.options.types,\n        attributes: {\n          fontSize: {\n            default: null,\n            parseHTML: element => element.style.fontSize?.replace(/['\"]+/g, ''),\n            renderHTML: attributes => {\n              if (!attributes.fontSize) {\n                return {}\n              }\n\n              return {\n                style: `font-size: ${attributes.fontSize}px`,\n              }\n            },\n          },\n        },\n      },\n    ]\n  },\n\n  addCommands() {\n    return {\n      setFontSize: fontSize => ({ chain }) => {\n        return chain()\n          .setMark('textStyle', { fontSize })\n          .run()\n      },\n      unsetFontSize: () => ({ chain }) => {\n        return chain()\n          .setMark('textStyle', { fontSize: null })\n          .removeEmptyTextStyle()\n          .run()\n      },\n    }\n  },\n})\n"],"names":["Extension"],"mappings":";;;;;;AAuBa,QAAA,QAAA,GAAWA,eAAU,MAAwB,CAAA;EAAA,EACxD,IAAM,EAAA,WAAA;EAAA,EAEN,UAAa,GAAA;EACX,IAAO,OAAA;EAAA,MACL,KAAA,EAAO,CAAC,WAAW,CAAA;EAAA,KACrB,CAAA;EAAA,GACF;EAAA,EAEA,mBAAsB,GAAA;EACpB,IAAO,OAAA;EAAA,MACL;EAAA,QACE,KAAA,EAAO,KAAK,OAAQ,CAAA,KAAA;EAAA,QACpB,UAAY,EAAA;EAAA,UACV,QAAU,EAAA;EAAA,YACR,OAAS,EAAA,IAAA;EAAA,YACT,WAAW,CAAQ,OAAA,KAAA;EAvC/B,cAAA,IAAA,EAAA,CAAA;EAuCkC,cAAA,OAAA,CAAA,EAAA,GAAA,OAAA,CAAQ,KAAM,CAAA,QAAA,KAAd,IAAwB,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,OAAA,CAAQ,QAAU,EAAA,EAAA,CAAA,CAAA;EAAA,aAAA;EAAA,YAChE,YAAY,CAAc,UAAA,KAAA;EACxB,cAAI,IAAA,CAAC,WAAW,QAAU,EAAA;EACxB,gBAAA,OAAO,EAAC,CAAA;EAAA,eACV;EAEA,cAAO,OAAA;EAAA,gBACL,KAAA,EAAO,cAAc,UAAW,CAAA,QAAA,CAAA,EAAA,CAAA;EAAA,eAClC,CAAA;EAAA,aACF;EAAA,WACF;EAAA,SACF;EAAA,OACF;EAAA,KACF,CAAA;EAAA,GACF;EAAA,EAEA,WAAc,GAAA;EACZ,IAAO,OAAA;EAAA,MACL,WAAa,EAAA,CAAA,QAAA,KAAY,CAAC,EAAE,OAAY,KAAA;EACtC,QAAO,OAAA,KAAA,GACJ,OAAQ,CAAA,WAAA,EAAa,EAAE,QAAS,EAAC,EACjC,GAAI,EAAA,CAAA;EAAA,OACT;EAAA,MACA,aAAe,EAAA,MAAM,CAAC,EAAE,OAAY,KAAA;EAClC,QAAO,OAAA,KAAA,EACJ,CAAA,OAAA,CAAQ,WAAa,EAAA,EAAE,QAAU,EAAA,IAAA,EAAM,CAAA,CACvC,oBAAqB,EAAA,CACrB,GAAI,EAAA,CAAA;EAAA,OACT;EAAA,KACF,CAAA;EAAA,GACF;EACF,CAAC;;;;;;;;;;;"}